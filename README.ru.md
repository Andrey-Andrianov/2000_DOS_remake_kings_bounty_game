# 2000_DOS_remake_kings_bounty_game
Римейк старой MS-DOS игры King's Bounty на  Borland Pascal 7.0

Игра написана для платформы MS-DOS на языке Borland Pascal 7.0. Используются графический режим VGA с разрешением 320х200 и с 256 цветами. Для работы со спрайтами написанны собственные библиотеки, основанные на прямой записи в видеопамять. Графические ресурсы получены из дампов оперативной памяти оригинальной игры.

* Читать на других языках: [English](README.md), [Русский](README.ru.md)

Скриншоты геймплея:

![Screenshots of a gameplay](screenshots.gif)

# Оглавление
- [Установка](#Установка)
- [Краткое описание игры](#Краткое-описание-игры)
   - [Сюжет](#Сюжет)
   - [Цель игры](#Цель-игры)
   - [Начало игры](#Начало-игры)
   - [Походные заклинания](#Походные-заклинания)
   - [Боевые заклинания](#Боевые-заклинания)
- [Играть в браузере](#Играть-в-браузере)

# Установка

Для начала игры достаточно скачать файл game.zip, распаковать архив и запустить knight.exe, желательно в DosBox.

Либо можно играть онлайн в браузере через эмулятор js-dos [Играть в браузере](#Играть-в-браузере)

Для компиляции из исходников (папка code) необходимо использовать компилятор Borland Pascal 7.0

# Краткое описание игры

## Сюжет

Подстрекаемые Демоном, семнадцать злодеев украли Скипетр
Короля Максимуса и спрятали его в неизвестном месте. Демон дал
Королю Максимусу некоторое время чтобы найти Скипетр и заколдованную карту
того места где закопан Скипетр, так как был уверен что Скипетр никогда не 
будет найден. Король Максимус вызвал вас в свой дворец и поручил вам найти
Скипетр.

## Цель игры

Цель игры найти Скипетр. Скипетр закопан в неизвестном месте, но у вас есть
карта участка местности где зарыт Скипетр. Так как карта заколдована ее клетки
закрыты. Открыть клетки карты можно либо беря в плен злодеев, либо находя 
артефакты, которых по два на каждом из четырех континентов. Чтобы взять в плен
злодея надо сначала заключить на него контракт в городе, а затем взять замок
в котором он находится.

## Начало игры

Сразу после запуска игры Вам будут предложены четыре героя (A-D) за
одного из которых вы можете начать новую игру или (L) восстановить прежнюю
игру. В начале игры Вы находитесь на первом континенте который называется 
Континентия около дворца Короля Максимуса и города. В правом верхнем углу
показано колличество дней за которые Вы должны найти Скипетр. Во дворце
Короля вы можете :

1) Поговорить с королем
2) Завербовать солдат для армии

   Король даст вам задание которое вы должны выполнить для получения следующего 
звания. В начале игры вы не можете приобретать кавалерию и рыцарей так как 
вашего звания для этого недостаточно. Способность приобретать войска зависит
от колличества Ваших денег и лидерства, от которого зависит Ваш авторитет в
войсках. Всего в игре 25 различных видов войск. Во дворце Короля вы можете 
приобрести только 5 различных видов войск, остальные виды войск можно приобрести
в лагерях которые внешне похожи на повозки, деревья, пещеры и клетки. Однако 
это неудобно тем, что колличество воинов в этих лагерях ограничено.
В любом городе Вы можете:

1) Заключить контракт на злодея
2) Арендовать корабль
3) Купить стенобитное орудие
4) Узнать информацию о ближайшем замке и его владельце
5) Купить заклинание

В начале игры Вы можете заключить контракт на поимку только пяти самых 
слабых злодеев, но по мере того как Вы будете брать в плен злодеев их список
будет расширяться. При заключении контракта Вы узнаете континент и замок где
обитает злодей если Вы заходили туда раньше. Если Вы возьмете замок в котором 
обитает злодей не заключив предварительно на него контракт, то злодей 
переселится в другой замок. Если Вы арендуете корабль, то вы сможете плавать
на нем по воде, но вам прийдется платить за это 500 золотых в неделю и еще 
500 при покупке. Стенобитное орудие необходимо при захвате замка для того чтобы
пробить стену. В городе можно купить одно из 14 заклинаний:    

## Походные заклинания

 1) Мост (Ставит мост длинной в Силу Магии)
 2) Стоп Время (Останавливает время на определенное число шагов)
 3) Лидершип (Увеличивает лидерство до конца недели)
 4) Телепорт Замок (Телепортирует к любому из ранее открытых замков)
 5) Телепорт Город (Телепортирует л любому из ранее открытых городов)
 6) Дополнительная Армия (Дает случайный отряд)
 7) Найти Злодея (Сообщает полную информацию о злодее)

## Боевые заклинания

 8) Прибавить Армию (Увеличивает численность помеченого рода войск)
 9) Телепорт (Телепортирует отряд в любое место карты боя)
10) Огненный Шар (Ударное заклинание)
11) Молния (Ударное заклинание)
12) Заморозить (Замороженная единица теряет один ход)
13) Воскрешение (Увеличивает численность рода войск до начальной)
14) Удар по Мертвым (Ударное заклинание действует только на мертвых)

Примечание : Магия на драконов не действует.

Чтобы переплывать с континента на континент нужна карта следующего 
континента, найти ее можно в сундуке на любом континенте кроме последнего.
На каждом континенте только одна карта следующего континента, в остальных
сундуках вам предлагается на выбор:

   1) Взять себе некоторую сумму.
   2) Отдать ее крестьянам и тем самым увеличить свое лидерство на X

Когда Вы ходите по карте вам иногда попадаются бродячие войска, которые как 
только Вас увидят начинают за вами гонятся до тех пор пока не вызовут Вас на
бой. Если вы проиграете то Вас возвратят Королю, в обратном случае вы получите
деньги за убитые вами единицы. Если Вы захватите замок и оставите в нем гарнизон
то замок будет приносить Вам еженедельный доход в 1000 золотых. Если у вас в 
армии имеются только летающие единицы кроме духов то вы можете летать (F). 

# Играть в браузере

По ссылке ниже можно попробовать игру в браузере, через эмулятор js-dos

[Играть](https://andrey-andrianov.github.io/sites/jsdos/knight.html)

Для более удобного управления с мобильных устройств на экран добавлены наиболее часто используемые клавиши. Их можно скрыть или показать из панели управления DosBox слева. 

![Mobile controls](mobile_controls.png)

Для сохрания игры необходимо сперва сохранить игру нажав клавишу q, а затем сохранить текущее состояние DosBox нажав значок дискеты в левом верхнем углу. Текущее состояние сохраняется в LocalStorage браузера. Также для игры на мобильных устройствах удобно добавить страницу на домашний экран устройства.
